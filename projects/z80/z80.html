<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>nsafran.com - Z80 Computer</title>
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/default-back.css">
</head>
<body><table class="main-body-table"><tbody><tr>
<td class="navbar"><div class="navbar">
<div class="window-title">Navigation</div>
<div class="cde-menu"><content>
        <ul class="cde-menu">
            <li class="home-link">
                <a href="/index.html">
                    <img src="/img/icons/Fphome.l.bmp" height="40" alt="Home" class="nav-icon" style="vertical-align: middle;"> Home
                </a>
            </li>
            <li class="section-heading"><span><img src="/img/icons/Dtterm.m.bmp" class="nav-icon" style="vertical-align: middle;"> Computers</span></li>

            <li class="section-link"><a href="/computers/sgi/sgi.html">Silicon Graphics</a></li>

            <li class="sgi-nested subsection-link"><a href="/computers/sgi/altix.html">Altix</a></li>
            <li class="sgi-nested subsection-link"><a href="/computers/sgi/indigo2.html">Indigo2</a></li>
            <li class="sgi-nested subsection-link"><a href="/computers/sgi/indy.html">Indy</a></li>
            <li class="sgi-nested subsection-link"><a href="/computers/sgi/octane.html">Octane</a></li>

            <li class="section-link"><a href="/computers/sun/sun.html">Sun Microsystems</a></li>

            <li class="sun-nested subsection-link"><a href="/computers/sun/ipx.html">SPARCstation IPX</a></li>
            <li class="sun-nested subsection-link"><a href="/computers/sun/sparc5.html">SPARCstation 5</a></li>
            <li class="sun-nested subsection-link"><a href="/computers/sun/ultra1.html">Ultra 1</a></li>
            <li class="sun-nested subsection-link"><a href="/computers/sun/ultra10.html">Ultra 10</a></li>

            <li class="section-link"><a href="/computers/hp/hp.html">HP</a></li>

            <li class="hp-nested subsection-link"><a href="/computers/hp/715.html">715/100</a></li>
            <li class="hp-nested subsection-link"><a href="/computers/hp/c8000.html">C8000</a></li>
            <li class="hp-nested subsection-link"><a href="/computers/hp/rp3440.html">rp3440</a></li>
            <li class="hp-nested subsection-link"><a href="/computers/hp/rx2660.html">rx2660</a></li>

            <li class="section-link"><a href="/computers/dec/dec.html">Digital</a></li>

            <li class="dec-nested subsection-link"><a href="/computers/dec/pdp1134.html">PDP 11/34a</a></li>
            <li class="dec-nested subsection-link"><a href="/computers/dec/vax3100.html">VAXstation 3100</a></li>
            <li class="dec-nested subsection-link"><a href="/computers/dec/alpha1000.html">Alphaserver 1000</a></li>
            <li class="dec-nested subsection-link"><a href="/computers/dec/vt240.html">VT240</a></li>

            <li class="section-link"><a href="/computers/ibm/ibm.html">IBM</a></li>

            <li class="ibm-nested subsection-link"><a href="/computers/ibm/rs6000.html">RS/6000 Model 43p</a></li>
            <li class="ibm-nested subsection-link"><a href="/computers/ibm/power740.html">Power 740</a></li>

            <li class="section-link"><a href="/computers/next/next.html">NeXT</a></li>

            <li class="section-heading"><span><img src="/img/icons/DtABbil.m.bmp" class="nav-icon" style="vertical-align: middle;">Projects</span></li>

            <li class="section-link"><a href="/projects/z80/z80.html">Z80 Computer</a></li>

            <li class="section-link"><a href="/projects/nixie/nixie.html">Nixie Tubes/VFD</a></li>
            
            <li class="subsection-link"><a href="/projects/nixie/in12-clock.html">Nixie Tube Clock</a></li>
            <li class="subsection-link"><a href="/projects/nixie/weather-clock.html">Nixie Weather Clock</a></li>
            <li class="subsection-link"><a href="/projects/nixie/ins1-matrix.html">INS-1 Nixie Tube Matrix</a></li>
            <li class="subsection-link"><a href="/projects/nixie/iv17-board.html">IV17 VFD Board</a></li>
            <li class="subsection-link"><a href="/projects/nixie/soyuz.html">Soyuz 744H Clock</a></li>
            
            <li class="section-heading" style="padding-top: 16px;">
            <li class="home-link" style="margin-top: 6px;">
                <a href="/blog/index.html">
                    <img src="/img/icons/Fppenpd.l.bmp" height="40" alt="Blog" class="nav-icon" style="vertical-align: middle;"> Blog
                </a>
            </li>
            <li class="section-link"><a href="/blog/about.html">About me</a></li>
        </ul>
        </content></div>
</div></td>
<td class="main-body-td"><div class="main-body-container">
<div class="window-title">Terminal - Z80 Computer</div>
<div class="main-body"><content>
            <span style="text-align: right; font-style: italic; display: block;">Last Updated: 02-May-2025</span>
            <h2>Custom Z80 Computer</h2>
            <p>
            I started building this computer in late 2017, starting with the CPU/memory board and
            the UART board. I was inspired by <a href="https://www.youtube.com/watch?v=QbCGhkbKLBY" target="_blank" rel="noopener noreferrer">jpkiwigeek's</a>
            videos on YouTube of his breadboard z80. I originally followed his 
            <a href="http://www.geekpalace.info/z80_schem_flash+rom+uart.html" target="_blank" rel="noopener noreferrer">netlist</a>
            for his computer as described on his website. Once I built it and got it to execute NOPs
            and send a character to the UART, I put it away until late 2019. When Ben Eater released
            the first part of his excellent video series on a 
            <a href="https://www.youtube.com/watch?v=LnzuMJLZRdU" target="_blank" rel="noopener noreferrer">simple 6502 computer,</a>
            I was inspired to get my computer working and actually do some programming in assembly.
            </p>
            <p>
            As of now I have a ROM monitor written for it, and CP/M boots off an IDE hard disk. I heavily refrerence <a href="http://cpuville.com/Code/CPM-on-a-new-computer.html">this page at cpuville.com</a> when getting CP/M running on it.
            Future plans are getting a floppy controller made for it and using a period correct 8 inch floppy drive.</p>
            <h2>Hardware</h2>
            <p>
            <a href="/projects/z80/cpu.html">CPU / Memory Board</a>
            <br>
            <a href="/projects/z80/uart.html">UART Board</a>
            <br>
            <a href="/projects/z80/pio.html">PIO Board</a>
            <br>
            <a href="/projects/z80/ide.html">IDE / Floppy Board</a>
            <br>
            <a href="/projects/z80/clock.html">Clock Board</a>
            <br>
            <a href="/projects/z80/lair.html">Logic Analyzer Interface Board</a>
            <br>
            <a href="/projects/z80/lcd.html">LCD Board</a>
            </p>
            <img src="/img/z80/z80-computer.jpg" alt="Z80 Computer" class="fullwidth">
            <p>
            The computer is a Z80 CPU with a 16c550 UART. When it boots, there is 16k of ROM at
            $0000-$3FFF and 48k of RAM from $4000-$FFFF. The first thing the computer does when
            starting is copy the ROM monitor up into RAM at $4000, disables the ROM, and then copies
            it back to $0000. This gets us ready to run CP/M by default, and allows us to modify
            variables in the ROM memory space.</p>
            <p>
            Base addresses:<br>
            $0x - UART<br>
            $3x - FDD<br>
            $4x - IDE<br>
            $5x - PIO<br>
            $70 - Disable ROM. Send bit 0=1 to disable rom. Currently, a reboot is
            needed to reset. eventually I will add a software re-enable.
            </p>
            <h2>Software</h2>
            <p>
            <a href="https://github.com/nsafran1217/z80-asm">https://github.com/nsafran1217/z80-asm</a>
            </p>
            <p><em><strong>Disclaimer</strong> - I am not good at assembly
            </em></p>
            <img src="/img/z80/z80-bios.PNG" alt="Z80 BIOS" class="fullwidth"><br>
            Commands:<p></p>
            <p>Most commands will save the last address used and automatically increment to the next
                address. All entered values are in hexadecimal.</p>
            <p>
            <code>:L [$xxxx] [$xxxx] | Load data from COM to [address]{$4000} len [bytes]{$1000} </code>
            <br>
            Load data from the serial port. I use this to upload software to test it. <br>
            <code>:D [$xxxx] [$xxxx] | Dump [address] of len [bytes]{$0100}. Next addr default   </code>
            <br>
            Dump data to display. Also displays ascii values for each byte.<br>
            <code>:W $xx [$xxxx]     | Write (value) to [address]. Write next address by default </code>
            <br>
            <code>:R [$xxxx]         | Read value at [address]. Read next address by default      </code>
            <br>
            <code>:G [$xxxx]         | Jump execution to [address]{address from L cmd}            <br></code>
            Default address if not specified is the address entered for the Load command.<br>
            <code>:O $xx $xx         | Write (value) to (IO Port)                                  </code>
            <br>
            <code>:I $xx             | Read value from (IO Port)                                  </code>
            <br>
            <code>:B                 | Enter Boot Menu                                            </code>
            <br>
            <code>:Q                 | Ring Bell                                                 </code>
            </p>
            <img src="/img/z80/z80-hexdump.PNG" alt="Z80 Hexdump" class="fullwidth"><br>
            </content></div>
</div></td>
<td class="td-spacer"></td>
</tr></tbody></table></body>
</html>
