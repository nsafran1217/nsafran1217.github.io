<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>UART Board - My Projects</title><meta name="description" content="Custom Z80 Computer Home This is the second board I made in 2017. I've made some changes to it in 2020 when I started to add more boards to the system. Before, the address decoding was done with a few different 74LS logic chips. I&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://nsafran.com/uart-board.html"><link rel="alternate" type="application/atom+xml" href="https://nsafran.com/feed.xml"><link rel="alternate" type="application/json" href="https://nsafran.com/feed.json"><meta property="og:title" content="UART Board"><meta property="og:site_name" content="My Projects"><meta property="og:description" content="Custom Z80 Computer Home This is the second board I made in 2017. I've made some changes to it in 2020 when I started to add more boards to the system. Before, the address decoding was done with a few different 74LS logic chips. I&hellip;"><meta property="og:url" content="https://nsafran.com/uart-board.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://nsafran.com/assets/css/style.css?v=d7a9bfbe748301c0d4eab1350ec9867d"><link rel="stylesheet" href="https://nsafran.com/assets/css/photoswipe.css?v=7331f6eb15671b2fc8e3ffd46e849f7b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://nsafran.com/uart-board.html"},"headline":"UART Board","datePublished":"2022-10-22T22:43","dateModified":"2022-10-25T23:24","description":"Custom Z80 Computer Home This is the second board I made in 2017. I've made some changes to it in 2020 when I started to add more boards to the system. Before, the address decoding was done with a few different 74LS logic chips. I&hellip;","author":{"@type":"Person","name":"Nathan Safran","url":"https://nsafran.com/authors/nathan-safran/"},"publisher":{"@type":"Organization","name":"Nathan Safran"}}</script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://nsafran.com/assets/svg/gallery-icons-light.svg);
			              }</style></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://nsafran.com/">My Projects</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://nsafran.com/custom-z80-computer.html" target="_self">Custom Z80 Computer</a></li><li class="has-submenu"><a href="https://nsafran.com/digital-equipment-corporation.html" target="_self" aria-haspopup="true">Digital</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://nsafran.com/digital-pdp-1134a-2.html" target="_self">PDP-11/34a</a></li><li><a href="https://nsafran.com/digital-vaxstation-3100-m38.html" target="_self">VAXStation 3100 M38</a></li><li><a href="https://nsafran.com/digital-vt240.html" target="_self">VT240</a></li></ul></li><li class="has-submenu"><a href="https://nsafran.com/sun-microsystems-computers.html" target="_self" aria-haspopup="true">Sun Microsystems</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://nsafran.com/sparcstation-ipx.html" target="_self">SPARCStation IPX</a></li><li><a href="https://nsafran.com/sparcstation-10.html" target="_self">SPARCStation 10</a></li><li><a href="https://nsafran.com/sparcstation-5.html" target="_self">SPARCStation 5</a></li><li><a href="https://nsafran.com/ultra-1.html" target="_self">Ultra 1</a></li><li><a href="https://nsafran.com/ultra-10.html" target="_self">Ultra 10</a></li><li><a href="https://nsafran.com/sun-blade-150.html" target="_self">Sun Blade 150</a></li><li><a href="https://nsafran.com/sun-fire-v100.html" target="_self">Sun Fire v100</a></li><li><a href="https://nsafran.com/sun-fire-v240.html" target="_self">Sun Fire v240</a></li><li><a href="https://nsafran.com/general-sun-info-and-links.html" target="_self">General Sun Info</a></li></ul></li><li class="has-submenu"><a href="https://nsafran.com/silicon-graphics.html" target="_self" aria-haspopup="true">Silicon Graphics</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://nsafran.com/indy.html" target="_self">Indy</a></li><li><a href="https://nsafran.com/indigo-2.html" target="_self">Indigo 2</a></li><li><a href="https://nsafran.com/octane.html" target="_self">Octane</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2022-10-22T22:43">October 22, 2022</time></div><h1>UART Board</h1></div></header></div><div class="wrapper post__entry"><p><a href="https://nsafran.com/custom-z80-computer.html">Custom Z80 Computer Home</a></p><h2>Overview</h2><p>This is the second board I made in 2017. I've made some changes to it in 2020 when I started to add more boards to the system. Before, the address decoding was done with a few different 74LS logic chips. I replaced it with a single 74LS128 3 to 8 demux. I was also having issues with the 16c550 not resetting correctly, so I tied the reset signal into the computers reset circuit. It should have been like this from the start. I needed to invert the signal, so I used a 74LS00 NAND since this was already on the board from the old address decoding.<br>The crystal for the UART is 1.843200MHZ. We write 12 to the divisor latch. Then, it is divided internally by 16. This gives us 9600 baud. You can see this in <a href="https://github.com/nsafran1217/z80-asm/blob/master/myCode/monitorv3/uart.s" target="_blank" rel="noopener noreferrer">uart.s</a> in the SetupUART routine.</p><p>I still have issues with this chip not resetting sometimes, so more investigation is needed.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://nsafran.com/media/posts/24/gallery/20221025_222708.jpg" data-size="4032x2268"><img loading="lazy" src="https://nsafran.com/media/posts/24/gallery/20221025_222708-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Board</figcaption></figure><figure class="gallery__item"><a href="https://nsafran.com/media/posts/24/gallery/uart-board-sch.png" data-size="1453x1474"><img loading="lazy" src="https://nsafran.com/media/posts/24/gallery/uart-board-sch-thumbnail.png" alt="" width="720" height="730"></a><figcaption>Schematic</figcaption></figure></div></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 25, 2022</p><ul class="post__tag"><li><a href="https://nsafran.com/tags/z80/">z80</a></li></ul><div class="post__share"></div></footer></article><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2022-10-22T22:46" class="feed__date">October 22, 2022</time></div><h3 class="h1"><a href="https://nsafran.com/lcd-board.html">LCD Board</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2022-10-22T22:45" class="feed__date">October 22, 2022</time></div><h3 class="h1"><a href="https://nsafran.com/logic-analyzer-interface-board.html">Logic Analyzer Interface Board</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2022-10-22T22:44" class="feed__date">October 22, 2022</time></div><h3 class="h1"><a href="https://nsafran.com/clock-board.html">Clock Board</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://nsafran.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://nsafran.com/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://nsafran.com/assets/js/photoswipe.min.js?v=b586a3bc288c989ecce7b81b48e35855"></script><script defer="defer" src="https://nsafran.com/assets/js/photoswipe-ui-default.min.js?v=9952f77ca2b8fbc9449a268008ea8dee"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};window.addEventListener('load', function () {initPhotoSwipeFromDOM('.gallery');}, false);</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></body></html>